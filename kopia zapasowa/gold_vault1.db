BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "inventory" (
	"id"	INTEGER,
	"category"	TEXT NOT NULL,
	"type"	TEXT NOT NULL,
	"unit_weight"	REAL NOT NULL,
	"purity"	REAL NOT NULL,
	"quantity"	REAL NOT NULL DEFAULT 0,
	"unit"	TEXT NOT NULL DEFAULT 'szt',
	"notes"	TEXT,
	UNIQUE("category","type","purity"),
	PRIMARY KEY("id" AUTOINCREMENT)
);
CREATE TABLE IF NOT EXISTS "transactions" (
	"id"	INTEGER,
	"gold_type_id"	INTEGER,
	"transaction_type"	TEXT NOT NULL CHECK("transaction_type" IN ('Kupno', 'Sprzedaż')),
	"quantity"	REAL NOT NULL,
	"weight_total"	REAL,
	"price_per_unit"	REAL NOT NULL,
	"price_per_gram"	REAL,
	"transaction_date"	TEXT NOT NULL,
	"description"	TEXT,
	FOREIGN KEY("gold_type_id") REFERENCES "inventory"("id"),
	PRIMARY KEY("id" AUTOINCREMENT)
);
INSERT INTO "inventory" VALUES (1,'Złom','585',1.0,58.5,295.8,'g','złom');
INSERT INTO "inventory" VALUES (2,'Sztabka','100 G',100.0,99.0,2.0,'szt','');
INSERT INTO "inventory" VALUES (3,'Moneta','LIŚĆ KANADA',31.1,99.0,2.0,'oz','');
INSERT INTO "inventory" VALUES (4,'Złom','333',1.0,33.3,32.7,'g','');
INSERT INTO "inventory" VALUES (5,'Złom','750',1.0,75.0,0.0,'g','');
INSERT INTO "inventory" VALUES (6,'Moneta','KRUGER',33.9,90.0,1.5,'oz','');
INSERT INTO "inventory" VALUES (7,'Sztabka','1 oz',31.1,99.0,0.0,'szt','');
INSERT INTO "inventory" VALUES (8,'Moneta','MONETY 916',1.0,90.0,36.7,'g','');
INSERT INTO "inventory" VALUES (9,'Złom','900',1.0,90.0,0.0,'g','');
INSERT INTO "inventory" VALUES (10,'Moneta','FILHARMONIA',31.1,99.0,0.0,'oz','');
INSERT INTO "inventory" VALUES (11,'Moneta','inne 1 oz',31.1,99.0,0.0,'oz','');
INSERT INTO "inventory" VALUES (12,'Sztabka','50 G',50.0,99.0,0.0,'szt','');
INSERT INTO "inventory" VALUES (13,'Sztabka','20 G',20.0,99.0,0.0,'szt','');
INSERT INTO "inventory" VALUES (14,'Sztabka','10 G',10.0,99.0,0.0,'szt','');
INSERT INTO "inventory" VALUES (15,'Sztabka','250 G',250.0,99.0,0.0,'szt','');
INSERT INTO "inventory" VALUES (16,'Moneta','MONETY 916',1.0,91.6,64.0,'g','');
INSERT INTO "inventory" VALUES (17,'Sztabka','1 G',1.0,99.0,29.0,'szt','');
INSERT INTO "inventory" VALUES (18,'Sztabka','2 G',2.0,99.0,1.0,'szt','');
INSERT INTO "inventory" VALUES (20,'Sztabka','5 G',5.0,99.0,1.0,'szt','');
INSERT INTO "transactions" VALUES (1,1,'Kupno',270.0,20.0,220.0,220.0,'2025-07-05','kuzyn');
INSERT INTO "transactions" VALUES (2,2,'Kupno',2.0,200.0,38900.0,389.0,'2025-07-05','kuzyn');
INSERT INTO "transactions" VALUES (3,3,'Sprzedaż',3.0,93.3,10600.0,340.836012861736,'2025-07-05','kuzyn');
INSERT INTO "transactions" VALUES (4,3,'Kupno',2.0,62.2,11000.0,353.697749196141,'2025-07-05','adam');
INSERT INTO "transactions" VALUES (5,6,'Kupno',1.5,50.85,10600.0,312.684365781711,'2025-07-05','');
INSERT INTO "transactions" VALUES (6,8,'Kupno',36.7,36.7,339.0,339.0,'2025-07-05','');
INSERT INTO "transactions" VALUES (7,4,'Kupno',32.7,32.7,160.0,160.0,'2025-07-05','');
INSERT INTO "transactions" VALUES (8,3,'Kupno',3.0,93.3,10500.0,337.620578778135,'2025-07-05','');
INSERT INTO "transactions" VALUES (9,1,'Kupno',25.8,25.8,220.0,220.0,'2025-07-05','');
INSERT INTO "transactions" VALUES (10,6,'Sprzedaż',2.0,67.8,10600.0,312.684365781711,'2025-07-05','PLN z kasy');
INSERT INTO "transactions" VALUES (11,6,'Kupno',1.0,33.9,10700.0,315.634218289086,'2025-07-05','adam');
INSERT INTO "transactions" VALUES (12,6,'Kupno',1.0,33.9,10220.0,301.474926253687,'2025-07-05','');
INSERT INTO "transactions" VALUES (14,16,'Kupno',64.0,64.0,345.3,345.3,'2025-07-08','');
INSERT INTO "transactions" VALUES (15,17,'Kupno',29.0,29.0,380.0,380.0,'2025-07-08','');
INSERT INTO "transactions" VALUES (16,18,'Kupno',1.0,2.0,760.0,380.0,'2025-07-08','');
INSERT INTO "transactions" VALUES (17,20,'Kupno',1.0,5.0,5.0,1.0,'2025-07-08','');
COMMIT;
